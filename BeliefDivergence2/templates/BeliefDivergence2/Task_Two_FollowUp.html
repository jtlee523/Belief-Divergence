{% extends "global/Page.html" %}
{% load static otree %}


{% block title %}
	Point Feedback - {{player.round_number}} out of {{Constants.num_rounds}}
{% endblock %}





{% block content %}

<!-- Code for  the prior block-->


	

<br/>

    <div class="grid-container">
        
        <!--code for Reporting Points -->
        <div class="row">
        	<div class="block-ballProbR"> Red Urn Points
        		<div class="block-SpaceBar">{{player.Red_Points}}</div>
        	</div> <!-- closes red urn -->
        	
        	<div class="block-BPspace"></div>
        	
        	<div class="block-ballProbY"> Yellow Urn Points
        		<div class="block-SpaceBar">{{player.Yellow_Points}}</div>
        	</div> <!-- closes yellow urn -->
        		

        	<div class="block-BPspace"></div>
        	
        	
        	<div class="block-ballProbG"> Green Urn Points 
 				<div class="block-SpaceBar">{{player.Green_Points}}</div>
        	</div> <!--closes green urn -->
        	
        	<div class="block-BPspace"></div>
        
        </div> <!-- with the row -->	
        
        
        
        
        <div class="row">
        	<div class="block-ballProbStandardBlock"> 
        		<div class="block-SpaceBar"></div>
        	</div> <!-- closes space -->
        	
        	<div class="block-BPspace"></div>
        	
        	
        	<div  class="block-GrayPoints"> Gray Urn Points
        		<div class="block-SpaceBar">{{player.Gray_Points}}</div>
        	
			</div> 
        		
        		
        	<div class="block-BPspace"></div>
        	
        	
        	<div class="block-ballProbStandardBlock">
 				<div class="block-SpaceBar"></div>
        	</div> <!--closes space -->
        	
        	<div class="block-BPspace"></div>
        </div>
        
        
        
        
        
        <!-- code for results -->
        <div class="row">
        	<div class="block-ballProbStandardBlock"> 
        		<div class="block-SpaceBar"></div>
        	</div> <!-- closes space -->
        	<div class="block-BPspace"></div>
        	
        	
        	<div id="ReturnBlock" class="block-ballReturn">
        	</div> <!-- closes return ball -->
        		
        		
        	<div class="block-BPspace"></div>
        	<div class="block-ballProbStandardBlock">
 				<div class="block-SpaceBar"></div>
        	</div> <!--closes space -->
        	<div class="block-BPspace"></div>
        
    </div> <!-- closes container -->





</br>

<!--making these variables below hidden -->
<!-- I don't thik this is needed right now
<p id="RedP"></p>
<p id="YellowP"></p>
<p id="GreenP"></p> -->

<!-- here we collect the data for our experiment-->
<!--
<input type="hidden" name="Red_Probability_guess" id="id_RedGuess"/>
<input type="hidden" name="Yellow_Probability_guess" id="id_YellowGuess"/>
<input type="hidden" name="Green_Probability_guess" id="id_GreenGuess"/>
<input type="hidden" name="Accuracy" id="id_Accuracy"/>
-->
{% next_button %}
{% endblock %}





{% block styles %}
    <link href="{% static "global/bootstrap-slider.css" %}" rel="stylesheet">
    <link href="{% static "global/mystyle.css" %}" rel="stylesheet">
    <link href="{% static "global/Task2.css" %}" rel="stylesheet">
{% endblock %}


{% block scripts %}
    <script src="{% static "global/bootstrap-slider.min.js" %}"></script>
	<script src="{% static "global/scripts.js" %}"></script>
	
    <script>
    	/*
    	var Red_Urn = document.getElementById("Red_Urn");
		Red_Urn.setAttribute('style', 'width: ' + ({{player.Red_Urn_Given}}*100) + '%');
		
		var Yellow_Urn = document.getElementById("Yellow_Urn");
		Yellow_Urn.setAttribute('style', 'width: ' + ({{player.Yellow_Urn_Given}}*100) + '%');
		
		var Green_Urn = document.getElementById("Green_Urn");
		Green_Urn.setAttribute('style', 'width: ' + ({{player.Green_Urn_Given}}*100) + '%');
		
		
    	
    	
    	
    	
    	var Red_BlackProb = document.getElementById("RedUrn_Black"); //edits this id 
		Red_BlackProb.setAttribute('style', 'width: ' + ({{player.Assigned_Red}}*100) + '%'); //sets the attribute value
		
		var Yellow_BlackProb = document.getElementById("YellowUrn_Black"); //edits this id 
		Yellow_BlackProb.setAttribute('style', 'width: ' + ({{player.Assigned_Yellow}}*100) + '%'); //sets the attribute value
		
		var Green_BlackProb = document.getElementById("GreenUrn_Black"); //edits this id 
		Green_BlackProb.setAttribute('style', 'width: ' + ({{player.Assigned_Green}}*100) + '%'); //sets the attribute value	
		
		//I do the same thing here for the white bars
		var Red_WhiteProb = document.getElementById("RedUrn_White"); //edits this id 
		Red_WhiteProb.setAttribute('style', 'width: ' + (100-{{player.Assigned_Red}}*100) + '%'); //sets the attribute value
		
		var Yellow_WhiteProb = document.getElementById("YellowUrn_White"); //edits this id 
		Yellow_WhiteProb.setAttribute('style', 'width: ' + (100-{{player.Assigned_Yellow}}*100) + '%'); //sets the attribute value
		
		var Green_WhiteProb = document.getElementById("GreenUrn_White"); //edits this id 
		Green_WhiteProb.setAttribute('style', 'width: ' + (100-{{player.Assigned_Green}}*100) + '%'); //sets the attribute value
			
			
			
		var Ball = document.getElementById("ball");
		if( {{player.isBlackBall}} == 1){
			Ball.setAttribute('style','background:  white');
		}						
		*/
		
		
		/*
		var RedPp = localStorage.getItem("RedBlockResult");
		var YellowPp = localStorage.getItem("YellowBlockResult");
		var GreenPp = localStorage.getItem("GreenBlockResult");
		
		document.getElementById("RedP").innerHTML=RedPp;
		document.getElementById("YellowP").innerHTML=YellowPp;
		document.getElementById("GreenP").innerHTML=GreenPp;
		
		//RED DYNAMIC BLOCK
		var RedText = document.createElement("p");
		var RedNode = document.createTextNode(RedPp); //this puts the value of the element in
		RedText.appendChild(RedNode);

		var redElement = document.getElementById("user-red-block"); //edits this id 
		redElement.setAttribute('style', 'width: ' + RedPp + '%'); //sets the attribute value
		redElement.appendChild(RedText);

		//YELLOW DYNAMIC BLOCK
		var YellowText = document.createElement("p");
		var YellowNode = document.createTextNode(YellowPp); //this puts the value of the element in
		YellowText.appendChild(YellowNode);

		var yellowElement = document.getElementById("user-yellow-block"); //edits this id 
		yellowElement.setAttribute('style', 'width: ' + YellowPp + '%'); //sets the attribute value
		yellowElement.appendChild(YellowText)
		
		
		//GREEN DYNAMIC BLOCK
		var GreenText = document.createElement("p");
		var GreenNode = document.createTextNode(GreenPp); //this puts the value of the element in
		GreenText.appendChild(GreenNode);

		var greenElement = document.getElementById("user-green-block"); //edits this id 
		greenElement.setAttribute('style', 'width: ' + GreenPp + '%'); //sets the attribute value
		greenElement.appendChild(GreenText)	
		
		
		var HideRed = document.getElementById("RedP");
		HideRed.classList.add('hidden');
		
		var HideYellow = document.getElementById("YellowP");
		HideYellow.classList.add('hidden');
		
		var HideGreen = document.getElementById("GreenP");
		HideGreen.classList.add('hidden');
		
		
		//For the variable storing. we get the element and then assign
		var red_data_1 = document.getElementById("id_RedGuess");
		red_data_1.value = RedPp;
		
		var yellow_data_1 = document.getElementById("id_YellowGuess");
		yellow_data_1.value = YellowPp;
		
		var green_data_1 = document.getElementById("id_GreenGuess");
		green_data_1.value = GreenPp;
		*/
		
		
		
		//This tells the player which urn they picked
		var UrnChoice = document.createElement("p");
		//If/Else creates the text within the UrnChoice element
		if( {{player.isGray}} == 1){
			console.log("GRAY");
			var UrnNode = document.createTextNode("You picked the Gray Urn"); 
		}	
		
		else{
			console.log("COLORED");
			var UrnNode = document.createTextNode("You Picked the Colored Urn");
		}
		UrnChoice.appendChild(UrnNode);
		
		var ReturnDetails = document.getElementById("ReturnBlock"); //edits this id 
		ReturnDetails.appendChild(UrnChoice)

		
		
		
		
		/*
		var accuracy_data_1 = document.getElementById("id_Accuracy");
		accuracy_data_1.value = ReturnAccuracy(RedPp, YellowPp, GreenPp, 40, 50, 10);
		//for some reason this doesn't work in the scripts page
		
		function ReturnAccuracy(Rself, Yself, Gself, Rreal, Yreal, Greal){//Accuracy return. input integers
			console.log("MADE IT"); //debugging
			//FORMULA
			//400*[0.25-(max{0.25,(R-r)^2})-....]
			//ACCURACY for saying r,y,g when true values are R,Y,G
			
			console.log((1/10000)*(Rreal - Rself)*(Rreal-Rself));
			console.log((1/10000)*(Yreal - Yself)*(Yreal-Yself));
			console.log((1/10000)*(Greal - Gself)*(Greal-Gself));
			result = 400 * (0.25 - Math.min(0.25, (1/10000)*(Rreal - Rself)*(Rreal-Rself)) 
				- Math.min(0.25, (1/10000)*(Yreal - Yself)*(Yreal-Yself)) - Math.min(0.25, (1/10000)*(Greal - Gself)*(Greal-Gself)))		
			console.log("result is:");
			console.log(result);
			return result; 
		}
		*/
		
    </script>
{% endblock %}